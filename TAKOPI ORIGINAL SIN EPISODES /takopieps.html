<DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#7f4ca5">
  <title>Takopi's Orginal Sin - Episodes</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    /* CSS Variables */
    :root{
      --bg: #1a1a1a; /* Matches related episodes background */
      --card-bg: #04121a;
      --muted: #7b8590;
      --accent: #7f4ca5; /* Thematic Purple Accent */
      --accent-dark: rgba(106, 26, 165, 0.1); /* Transparent Purple */
      --text: #e6eef4;
      --max-width: 980px;
    }
  
    /* General Body Styles */
    body {
      background-color: #1e1e1e;
      color: #ffffff;
      font-family: Arial, sans-serif;
    }
    
    .episode-container {
      margin: 0;
      padding: 15px;
    }

    h1 {
      font-family: 'Orbitron', sans-serif;
      color: firebrick;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-align: left;
    }

    /* Video Player Section */
    #video-section {
      max-width: 800px;
      margin: 30px auto;
      padding: 6px;
      border-radius: 20px;
      background: linear-gradient(135deg, #4a00e0, #8e2de2);
      box-shadow: 0 0 20px rgba(142, 45, 226, 0.5), 0 0 40px rgba(74, 0, 224, 0.3);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }
    
    #video-section:hover {
        transform: scale(1.02); 
        box-shadow: 0 0 25px rgba(142, 45, 226, 0.8), 0 0 50px rgba(106, 26, 165, 0.6);
    }

    /* --- RESPONSIVE VIDEO CONTAINER --- */
    #video-box {
      position: relative;
      padding-top: 56.25%; /* 16:9 aspect ratio */
      height: 0;
      overflow: hidden;
      border-radius: 16px;
    }

    #video-box iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    
    /* Server Switcher Styles */
    .server-text { margin: 20px 0 10px; color: #ccc; text-align: center; }
    .server-options { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 20px; padding: 10px; background-color: #000; border-radius: 8px; border-top: 2px solid #6A1AA5; }
    .server-btn { flex-grow: 1; background-color: #333; color: #fff; border: 1px solid #444; padding: 12px 15px; border-radius: 6px; text-align: center; font-weight: bold; cursor: pointer; transition: all 0.2s ease-in-out; }
    .server-btn:hover { background: #000; border-color: #6A1AA5; box-shadow: 0 0 10px rgba(106, 26, 165, 0.7); transform: scale(1.03); }
    .server-btn.active { background-color: #6A1AA5; color: #fff; border-color: #8e2de2; box-shadow: 0 0 12px rgba(106, 26, 165, 0.9); }
    
    /* Episode Navigation Section */
    .related-wrapper { padding: 20px; background: #1a1a1a; max-width: 800px; margin: 20px auto; border-radius: 8px; }
    .related-header { display: flex; align-items: center; font-size: 20px; font-weight: bold; background: #6A1AA5; color: #000; padding: 10px; border-radius: 5px 5px 0 0; }
    .related-header .avatar { width: 40px; height: 40px; border-radius: 50%; margin-right: 10px; }
    .range-links { display: flex; flex-wrap: wrap; gap: 10px; background: #000; padding: 10px; font-size: 14px; border-bottom: 2px solid #6A1Aa5; }
    .range-links a { color: #6A1Aa5; text-decoration: none; font-weight: bold; }
    .range-links a.active, .range-links a:hover { text-decoration: underline; }
    .episode-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(110px, 1fr)); gap: 10px; margin-top: 15px; }
    .ep-button { display: flex; justify-content: space-between; align-items: center; background: #333; color: #fff; padding: 10px 14px; border-radius: 4px; text-decoration: none; font-weight: bold; border: 1px solid #444; transition: 0.2s; }
    .ep-button:hover { background: #000; border-color: #6A1AA5; box-shadow: 0 0 10px #6A1AA5; transform: scale(1.02); }
    .ep-button.active { background-color: #6A1AA5; color: #000; border-color: #6A1AA5; }
    .ep-button .sub { font-size: 12px; color: #ccc; }
    .range-nav { display: flex; justify-content: space-between; margin-top: 15px; }
    .range-nav a { background: #6A1AA5; color: #000; padding: 8px 14px; border-radius: 6px; text-decoration: none; font-weight: bold; transition: background 0.2s, transform 0.2s; }
    .range-nav a:not([disabled]):hover { background: #4a00e0; color: #fff; transform: scale(1.05); }
    .range-nav a[disabled] { pointer-events: none; background: #555; color: #999; }
    .back-button { display: block; width: fit-content; margin: 20px auto; padding: 10px 20px; background: linear-gradient(to right, #8e2de2, #4a00e0); color: white; text-decoration: none; border-radius: 8px; }

    /* --- Footer Styles --- */
    .site-footer{ background: linear-gradient(180deg, var(--bg) 0%, #031017 100%); color: var(--text); font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; padding: 40px 18px 80px; margin-top: 40px; }
    .footer-inner{ max-width: var(--max-width); margin: 0 auto; }
    .about-title{ font-size: 20px; font-weight: 600; margin-bottom: 14px; }
    .about-text{ color: var(--muted); line-height: 1.6; font-size: 15px; max-width: 820px; margin-bottom: 10px; }
    .about-note{ color: #93a0ab; font-style: italic; font-size: 13px; margin-bottom: 22px; }
    .features{ display: grid; grid-template-columns: 1fr 1fr; gap: 18px 28px; margin: 10px 0 34px; align-items: center; }
    .feature{ display: flex; gap: 12px; align-items: center; }
    .icon-box{ width: 36px; height: 36px; border-radius: 8px; border: 2px solid var(--accent); display: inline-grid; place-items: center; background: var(--accent-dark); flex-shrink: 0; }
    .icon-box svg{ width:18px; height:18px; fill: none; stroke: var(--accent); stroke-width:1.7; }
    .feature span{ color: var(--accent); font-weight: 500; font-size: 12px; white-space: nowrap; }
    .links-section{ margin-top: 30px; }
    .links-title{ font-size: 18px; font-weight: 600; margin-bottom: 12px; }
    .links-grid{ display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px 16px; }
    .links-grid a{ display:block; color: #6e7780; text-decoration: none; padding: 5px 0; font-size: 15px; }
    .footer-bottom{ margin-top: 36px; border-top: 1px solid rgba(255,255,255,0.02); padding-top: 26px; display:flex; flex-direction:column; align-items:center; gap:10px; color:#6c7580; font-size:15px; }
    .footer-bottom .small-links{ display:flex; gap: 36px; flex-wrap:wrap; justify-content:center; }

    /* --- Media Queries for Responsive Design --- */
    @media (max-width: 600px) {
      h1 { font-size: 24px; letter-spacing: 1px; }
      .related-header { font-size: 18px; }
    }
    
    @media (min-width:740px){
      .about-title{ font-size:22px; }
      .feature span{ font-size:17px; }
      .features{ gap: 18px 40px; }
      .links-grid{ grid-template-columns: repeat(4, 1fr); }
    }

    @media (min-width:1024px){
      .site-footer{ padding: 60px 32px 90px; }
      .about-text{ font-size:16px; }
    }

    /* --- PC Two-Column Layout Styles (min-width: 992px) --- */
    @media (min-width: 992px) {
      .main-layout-container {
        display: flex;
        align-items: flex-start; /* Aligns columns to the top */
        gap: 25px;
      }
      .layout-left-column { 
        flex: 3;
        min-width: 0; 
      }
      .layout-right-column { 
        flex: 1;
        min-width: 0; 
      }
      #video-section, .related-wrapper, .back-button {
        margin-left: 0;
        margin-right: 0;
        max-width: none;
      }
    }
  </style>
</head>
<body>

  <div class="episode-container">
    <h1 id="episode-title">Loading...</h1>
    
    <div class="main-layout-container">
      <div class="layout-left-column">
        <div id="video-section">
          <div id="video-box">
            <iframe id="episode-video" allow="autoplay" allowfullscreen></iframe>
          </div>
          </div>
        <a href="../Takopii.html" class="back-button">← Back to Episodes</a>
      </div>

      <div class="layout-right-column">
        <div class="related-wrapper">
          <div class="related-header">
            <img src="/images/p logo.png" class="avatar" alt="Character">
            <span>RELATED EPISODES</span>
          </div>
          <div class="range-links" id="range-links"></div>
          <div class="episode-grid" id="episode-links"></div>
          <div class="range-nav" id="range-nav"></div>
        </div>
      </div>
    </div> <section class="site-footer" aria-labelledby="about-heading">
      <div class="footer-inner">
        <h2 id="about-heading" class="about-title">About Us</h2>
        <p class="about-text">
          All.Anime is a free anime tv shows streaming website with only one to two ads, it allows you to <strong>watch anime shows online, watch anime tv shows online</strong> in high quality for free. You can also watch it on dup full tv shows put it on the mylist and watch it later if you want.
        </p>
        <p class="about-text">
  Whether you’re into action-packed shounen, emotional romance, thrilling adventures, or
  mind-bending sci-fi, our library is constantly updated to bring you the latest episodes and
  timeless classics. You can watch anytime, anywhere, completely free. We also provide multiple
  subtitle options to make sure you enjoy anime in your own language.
</p>
        <p class="about-note">
          This site does not store any files on our server, we only linked to the media which is hosted on 3rd party services.
        </p>
        <div class="features" role="list">
          <div class="feature" role="listitem"><div class="icon-box" aria-hidden="true"><svg viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><path d="M3 16l3-9 4 6 4-6 4 6 2-4v8H3z"></path></svg></div><span>High quality</span></div>
          <div class="feature" role="listitem"><div class="icon-box" aria-hidden="true"><svg viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><path d="M5 3v18l15-9L5 3z"></path></svg></div><span>Free forever</span></div>
          <div class="feature" role="listitem"><div class="icon-box" aria-hidden="true"><svg viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h7l-1 8 10-12h-7z"></path></svg></div><span>Fast load</span></div>
          <div class="feature" role="listitem"><div class="icon-box" aria-hidden="true"><svg viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="5" width="18" height="14" rx="2"></rect><path d="M7 12h3v2H7zM14 12h3v2h-3z"></path></svg></div><span>Multi subtitles</span></div>
        </div>
        <div class="links-section" aria-labelledby="links-heading">
          <h3 id="links-heading" class="links-title">Links</h3>
          <nav class="links-grid" aria-label="Footer links">
            <a href="/movies">Movies</a><a href="/action-movies">Action Movies</a><a href="/android-app">Android App</a><a href="/tv-shows">TV Shows</a><a href="/horror-movies">Horror Movies</a><a href="/contact">Contact</a><a href="/sci-fi-movies">Sci-fi Movies</a><a href="/terms">Terms of service</a><a href="/thriller-movies">Thriller Movies</a><a href="/sitemap">Sitemap</a><a href="/faq">FAQ</a>
          </nav>
        </div>
        <div class="footer-bottom">
          <div class="small-links" role="navigation" aria-label="small footer links"><a href="/sitemap">Sitemap</a><a href="/contact">Contact</a><a href="/terms">Terms of service</a></div>
          <div style="opacity:0.65; font-size:13px;">service</div>
        </div>
      </div>
    </section>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const totalEpisodes = 6;
      const rangeSize = 6;
      const episodes = {};
      for (let i = 1; i <= totalEpisodes; i++) {
        episodes[i] = {
          title: `Takopi's Orginal Sin Episode ${i}`,
          servers: {
             upcloud: `https://vidnest.fun/anime/185407/${i}/sub`,
             akcloud: `https://vidnest.fun/anime/185407/${i}/hindi`,
             megacloud: `https://vidnest.fun/animepahe/185407/${i}/sub`,
          },
        };
      }
      const urlParams = new URLSearchParams(window.location.search);
      const ep = parseInt(urlParams.get("ep")) || 1;
      const currentPage = Math.floor((ep - 1) / rangeSize) + 1;
      const totalPages = Math.ceil(totalEpisodes / rangeSize);
      const titleEl = document.getElementById("episode-title");
      const videoEl = document.getElementById("episode-video");
      const rangeLinksEl = document.getElementById("range-links");
      const episodeLinksEl = document.getElementById("episode-links");
      const navEl = document.getElementById("range-nav");
      const videoSectionEl = document.getElementById("video-section");
      function changeServer(serverName, btnElement) {
        if (!videoEl || !episodes[ep] || !episodes[ep].servers[serverName]) return;
        videoEl.src = episodes[ep].servers[serverName];
        document.querySelectorAll(".server-btn").forEach(btn => btn.classList.remove("active"));
        btnElement.classList.add("active");
      }
      window.changeServer = changeServer;
      function createAndAppend(parent, tag, options = {}) {
        const el = document.createElement(tag);
        if (options.href) el.href = options.href;
        if (options.className) el.className = options.className;
        if (options.innerHTML) el.innerHTML = options.innerHTML;
        if (options.disabled) el.disabled = true;
        if (options.onclick) el.onclick = options.onclick;
        parent.appendChild(el);
        return el;
      }
      const currentEpisode = episodes[ep];
      if (currentEpisode) {
        titleEl.innerText = currentEpisode.title;
      }
      const serverDiv = createAndAppend(videoSectionEl, 'div');
      serverDiv.innerHTML = `
        <p class="server-text">If the current server doesn't work, please try another one below If you prefer to watch anime in dubbed version, please switch to Server 2.
          For subtitles, you may use either Server 1 or Server 3, depending on your preference.</p>
        <div class="server-options">
          <button onclick="changeServer('upcloud', this)" class="server-btn active">▶ <strong>Server 1</strong></button>
          <button onclick="changeServer('akcloud', this)" class="server-btn">▶ <strong>Server 2</strong></button>
          <button onclick="changeServer('megacloud', this)" class="server-btn">▶ <strong>Server 3</strong></button>
        </div>
      `;
      const defaultActiveButton = serverDiv.querySelector('.server-btn.active');
      if (defaultActiveButton) {
          changeServer('upcloud', defaultActiveButton);
      }
      for (let start = 1; start <= totalEpisodes; start += rangeSize) {
        const end = Math.min(start + rangeSize - 1, totalEpisodes);
        const rangeEl = createAndAppend(rangeLinksEl, 'a', { href: `?ep=${start}`, innerHTML: `${start}-${end}` });
        if (currentPage === Math.floor((start - 1) / rangeSize) + 1) {
          rangeEl.classList.add('active');
        }
      }
      const startEp = (currentPage - 1) * rangeSize + 1;
      const endEp = Math.min(startEp + rangeSize - 1, totalEpisodes);
      for (let i = startEp; i <= endEp; i++) {
        createAndAppend(episodeLinksEl, 'a', {
          href: `?ep=${i}`,
          className: `ep-button ${i === ep ? 'active' : ''}`,
          innerHTML: `<span>EP ${i}</span><span class="sub">SUB</span>`
        });
      }
      const scrollTop = () => videoSectionEl.scrollIntoView({ behavior: "smooth" });
      const prevButton = createAndAppend(navEl, 'a', { href: `?ep=${startEp - rangeSize}`, innerHTML: '← Previous', onclick: scrollTop });
      if (currentPage <= 1) prevButton.setAttribute('disabled', true);
      const nextButton = createAndAppend(navEl, 'a', { href: `?ep=${endEp + 1}`, innerHTML: 'Next →', onclick: scrollTop });
      if (currentPage >= totalPages) nextButton.setAttribute('disabled', true);
    });
  </script>
</body>
</html>